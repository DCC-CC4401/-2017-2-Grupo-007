{% extends "home.html" %}
{% load static %}

{% block titulo %}
    Estadisticas
{% endblock titulo %}

{% block aplicacion %}

<head>

    <script type="text/javascript" src="{% static 'fusioncharts/fusioncharts.js' %}"></script>
    <script type="text/javascript" src="{% static 'fusioncharts/themes/fusioncharts.theme.fint.js' %}"></script>
    <script type="text/javascript">
        FusionCharts.ready(function(){
            var revenueChartDen = new FusionCharts({
                "type": "doughnut2D",
                "renderAt": "chartDen",
                "width": "500",
                "height": "400",
                "dataFormat": "json",
                "dataSource":  {
                    "chart": {
                        "caption": "Denuncias por Animal en {{ comuna }}",
                        "xAxisName": "Denuncias",
                        "yAxisName": "Cantidad",
                        "showBorder": "1",
                        "use3DLighting": "0",
                        "enableSmartLabels": "0",
                        "startingAngle": "310",
                        "showLabels": "1",
                        "showLegend": "1",
                        "showPercentValues": "1",
                        "defaultCenterLabel": "Total: {{ totalDen }}",
                        //"centerLabel": "Revenue from $label: $value",
                        "centerLabelBold": "1",
                        "showTooltip": "0",
                        "decimals": "0",
                        "useDataPlotColorForLabels": "1",
                        "theme": "fint"
                    },
                "data": [
                    {
                    "label": "Reportadas",
                    "value": "{{ numDenReportadas }}"
                    },
                    {
                    "label": "Consolidadas",
                    "value": "{{ numDenConsolidadas }}"
                    },
                    {
                    "label": "Verificadas",
                    "value": "{{ numDenVerificadas }}"
                    },
                    {
                    "label": "Cerradas",
                    "value": "{{ numDenCerradas }}"
                    },
                    {
                    "label": "Desechadas",
                    "value": "{{ numDenDesechadas }}"
                    }
                ]}
            });
            var revenueChartEst = new FusionCharts({
                "type": "pie2d",
                "renderAt": "chartEst",
                "width": "500",
                "height": "400",
                "dataFormat": "json",
                "dataSource":  {
                    "chart": {
                        "caption": "Esterilizaciones en {{ comuna }}",
                        "xAxisName": "Esterilizaciones",
                        "yAxisName": "Cantidad",
                        "showBorder": "1",
                        "showLabels": "1",
                        "showLegend": "1",
                        "theme": "fint"
                    },
                "data": [
                    {
                    "label": "{{ comuna }}",
                    "value": "{{ numEstComuna }}"
                    },
                    {
                    "label": "Total",
                    "value": "{{ numEstTotal }}"
                    }
                ]}
            });
        revenueChartEst.render();
        revenueChartDen.render();
        })
</script>
</head>
<body>
<!-- Left side column. contains the logo and sidebar -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="{% static 'distrib/img/muni-santiago-160x160.png' %}" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                        <!-- <br> -->
                        <p>Municipalidad de<br>Santiago</p>
                    </div>
                </div>
                <!-- Sidebar Menu -->
                <ul class="sidebar-menu" data-widget="tree">
                    <!-- Optionally, you can add icons to the links -->
                    <li>
                        <a href="#">
                            <i class="fa fa-bullhorn"></i>
                            <span>Denuncias</span>
                        </a>
                    </li>
                    <li class="treeview active menu-open">
                        <a href="#">
                            <i class="fa fa-bar-chart"></i>
                            <span>Estadísticas</span>
                            <span class="pull-right-container">
                                <i class="fa fa-angle-left pull-right"></i>
                            </span>
                        </a>
                        <ul class="treeview-menu">
                            <li>
                                <a href="{%  url 'municipalidad:ultimasdenuncias' %}">
                                    <i class="fa fa-circle-o"></i>
                                    Denuncias
                                </a>
                            </li>
                            <li class="active">
                                <a href="{%  url 'municipalidad:chartsPageMuni' %}">
                                    <i class="fa fa-circle-o"></i>
                                    Gráficos
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- /.sidebar-menu -->
            </section>
            <!-- /.sidebar -->
        </aside>
<div class="wrapper2">
    <div id="one">
        <div id="chartEst">FusionCharts XT will load here!</div>
    </div>
    <div id="two">
        <div id="chartDen">FusionCharts XT will load here!</div>
    </div>
</div>



</body>
{% endblock aplicacion %}
</html>